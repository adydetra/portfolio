!function(a){a.fn.animatedModal=function(n){var o=a(this),t=a.extend({modalTarget:o.attr("href").replace("#",""),position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndexIn:"9999",zIndexOut:"-9999",color:"#FFF",opacityIn:"1",opacityOut:"0",animatedIn:"lightSpeedIn",animatedOut:"bounceOutDown",animationDuration:".6s",overflow:"auto",beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},n),i=a(".close-"+t.modalTarget),e=a(o).attr("href"),d=a("body").find("#"+t.modalTarget),r="#"+d.attr("id");d.addClass("animated"),d.addClass(t.modalTarget+"-off");var s={position:t.position,width:t.width,height:t.height,top:t.top,left:t.left,"background-color":t.color,"overflow-y":t.overflow,"z-index":t.zIndexOut,opacity:t.opacityOut,"-webkit-animation-duration":t.animationDuration,"-moz-animation-duration":t.animationDuration,"-ms-animation-duration":t.animationDuration,"animation-duration":t.animationDuration};function l(){d.css({"z-index":t.zIndexOut}),t.afterClose()}function m(){t.afterOpen()}d.css(s),o.click(function(n){n.preventDefault(),a("body, html").css({overflow:"hidden"}),e==r&&(d.hasClass(t.modalTarget+"-off")&&(d.removeClass(t.animatedOut),d.removeClass(t.modalTarget+"-off"),d.addClass(t.modalTarget+"-on")),d.hasClass(t.modalTarget+"-on")&&(t.beforeOpen(),d.css({opacity:t.opacityIn,"z-index":t.zIndexIn}),d.addClass(t.animatedIn),d.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",m)))}),i.click(function(n){n.preventDefault(),a("body, html").css({overflow:"auto"}),t.beforeClose(),d.hasClass(t.modalTarget+"-on")&&(d.removeClass(t.modalTarget+"-on"),d.addClass(t.modalTarget+"-off")),d.hasClass(t.modalTarget+"-off")&&(d.removeClass(t.animatedIn),d.addClass(t.animatedOut),d.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",l))})}}(jQuery);